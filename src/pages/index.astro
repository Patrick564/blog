---
import Layout from '../layouts/Layout.astro'
import Card from '../components/Card.astro'
import Navbar from '../components/Navbar.astro'

const posts = await Astro.glob('../pages/posts/*.md')
const nonDraftPosts = posts.filter(post => !post.frontmatter.draft)
---

<Layout title="Patrick Vilchez | Backend developer">
	<Navbar />

	<main class="max-w-2xl mx-auto mb-14">
		<h1 class="text-5xl font-bold px-2">Página principal</h1>
		<p class="my-7 px-3">
			Pequeña descripción pendiente... O no...
		</p>

		{nonDraftPosts.map((post) => {
			return (
				<Card
					href={post.url!}
					title={post.frontmatter.title}
					body={post.frontmatter.description}
				/>
			)
		})}
	</main>
</Layout>
